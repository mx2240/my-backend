<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sports News Admin Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        :root {
            --primary: #1a73e8;
            --accent: #fbbc05;
            --danger: #ea4335;
            --background: #f4f8fb;
            --card-bg: #fff;
            --text: #333;
            --border-radius: 14px;
            --shadow: 0 4px 16px rgba(60,72,88,0.07);
        }
        body {
            margin: 0;
            font-family: 'Segoe UI', Arial, sans-serif;
            background: var(--background);
            color: var(--text);
        }
        .admin-container {
            max-width: 900px;
            margin: 40px auto;
            padding: 30px 24px;
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }
        header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 36px;
        }
        .logo {
            font-weight: 700;
            font-size: 2em;
            color: var(--primary);
            letter-spacing: 1px;
        }
        .admin-avatar {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: var(--background);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3em;
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        h2 {
            margin-top: 0;
            color: var(--primary);
        }
        form {
            background: var(--background);
            padding: 24px;
            border-radius: var(--border-radius);
            margin-bottom: 36px;
            box-shadow: 0 1px 4px rgba(26, 115, 232, 0.04);
        }
        label {
            font-weight: 600;
            margin-bottom: 6px;
            display: block;
        }
        input, textarea {
            width: 100%;
            padding: 10px 12px;
            margin-bottom: 16px;
            font-size: 1em;
            border: 1px solid #ddd;
            border-radius: 7px;
            background: #fafbfc;
            transition: border 0.2s;
        }
        input:focus, textarea:focus {
            border: 1.5px solid var(--primary);
            outline: none;
        }
        button {
            background: var(--primary);
            color: #fff;
            border: none;
            padding: 12px 32px;
            border-radius: 7px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.18s;
            box-shadow: 0 2px 8px rgba(26, 115, 232, 0.08);
        }
        button:hover {
            background: #155ab6;
        }
        .news-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--card-bg);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
        }
        .news-table th, .news-table td {
            text-align: left;
            padding: 16px 12px;
            border-bottom: 1px solid #f0f0f0;
        }
        .news-table th {
            background: #f5f8fc;
        }
        .news-table tr:last-child td {
            border-bottom: none;
        }
        .news-img {
            width: 58px;
            height: 42px;
            object-fit: cover;
            border-radius: 6px;
            background: #e9ecef;
        }
        .action-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1em;
            margin-right: 8px;
        }
        .action-edit {
            color: var(--primary);
        }
        .action-delete {
            color: var(--danger);
        }
        @media (max-width: 750px) {
            .admin-container { padding: 14px 2vw; }
            .news-table th, .news-table td { padding: 9px 4px; font-size: 0.93em;}
            form { padding: 15px 3vw; }
        }
        @media (max-width: 540px) {
            .admin-container { margin: 0; border-radius: 0;}
            header { flex-direction: column; gap: 10px;}
            .logo { font-size: 1.4em;}
            .news-table th, .news-table td { font-size: 0.86em; }
        }
    </style>
</head>
<body>
    <div class="admin-container">
        <header>
            <span class="logo">üèÜ Sports News Admin</span>
            <div class="admin-avatar" title="Admin">A</div>
        </header>
        <h2>Add News Article</h2>
        <form  action="/admin/add" method="POST" id="newsForm" autocomplete="off" enctype="multipart/form-data">
            <label for="title">Title</label>
            <input type="text" id="title" name="title" maxlength="80" required placeholder="Enter headline">
            <label for="content">Content</label>
            <textarea id="content" name="content" rows="3" maxlength="350" required placeholder="Write news content..."></textarea>
            <label for="image">Image URL</label>
             <input type="file" name="image" accept="image/*" required>
             <br><br>
            <button type="submit" >Add News</button>
        </form>
        <h2>Latest News</h2>
        <table class="news-table" id="newsTable">
            <thead>
                <tr>
                    <th>Image</th>
                    <th>Title</th>
                    <th>Content</th>
                    <th style="min-width:80px;">Actions</th>
                </tr>
            </thead>
            <tbody id="newsTableBody">
                <% sports.forEach(sport => { %>
                <tr>
                    <td>
                        <img class="news-img" src="<%= sport.image %>" alt="News image">
                    </td>
                    <td style="font-weight:600"><%=sport.title %></td>
                    <td><%= sport.content > 120 ? sport.content.slice(0,120) + '‚Ä¶' : sport.content %></td>
                    <td>
                        <a href="/admin/<%= sport._id %>/edit" class="action-btn action-edit" title="Edit">‚úèÔ∏è</a>
        
                        <form action="/users/<%= sport._id %>?_method=DELETE" method="POST">
                            <button type="submit">Delete</button>
                        </form>
                    </td>
                </tr>
                <% }) %>
            </tbody>
        </table>
    </div>
    <!-- <script>
        const form = document.getElementById('newsForm');
        const newsTableBody = document.getElementById('newsTableBody');
        const addBtn = document.getElementById('addBtn');
        let editingIndex = null;
        let newsList = [];

        form.addEventListener('submit', function(e) {
            e.preventDefault();
            const title = form.title.value.trim();
            const content = form.content.value.trim();
            const image = form.image.value.trim();

            if (editingIndex !== null) {
                newsList[editingIndex] = { title, content, image };
                editingIndex = null;
                addBtn.textContent = 'Add News';
            } else {
                newsList.unshift({ title, content, image });
            }
            renderNews();
            form.reset();
        });

        function renderNews() {
            newsTableBody.innerHTML = '';
            if (newsList.length === 0) {
                newsTableBody.innerHTML = '<tr><td colspan="4" style="text-align:center;color:gray;">No news articles yet.</td></tr>';
                return;
            }
            newsList.forEach((news, idx) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>
                        ${news.image ? `<img class="news-img" src="${news.image}" alt="News image">` 
                        : `<div class="news-img" style="display:flex;align-items:center;justify-content:center;color:#aaa;">N/A</div>`}
                    </td>
                    <td style="font-weight:600">${news.title}</td>
                    <td>${news.content.length > 120 ? news.content.slice(0,120) + '‚Ä¶' : news.content}</td>
                    <td>
                        <button class="action-btn action-edit" title="Edit" onclick="editNews(${idx})">‚úèÔ∏è</button>
                        <button class="action-btn action-delete" title="Delete" onclick="deleteNews(${idx})">üóëÔ∏è</button>
                    </td>
                `;
                newsTableBody.appendChild(row);
            });
        }

        window.deleteNews = function(idx) {
            if (confirm('Are you sure you want to delete this news article?')) {
                newsList.splice(idx, 1);
                renderNews();
                if (editingIndex === idx) {
                    form.reset();
                    editingIndex = null;
                    addBtn.textContent = 'Add News';
                }
            }
        }

        window.editNews = function(idx) {
            const news = newsList[idx];
            form.title.value = news.title;
            form.content.value = news.content;
            form.image.value = news.image;
            editingIndex = idx;
            addBtn.textContent = 'Save Changes';
            form.title.focus();
        }

        // Initialize with empty state
        renderNews();
    </script> -->
</body>
</html>