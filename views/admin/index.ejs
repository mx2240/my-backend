<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sports Statistics Admin Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="public/stylesheet/style.css">
    <style>
        :root {
            --primary: #1a73e8;
            --accent: #34a853;
            --danger: #ea4335;
            --background: #f5f7fb;
            --card-bg: #fff;
            --text: #222;
            --border-radius: 14px;
            --shadow: 0 4px 24px rgba(60,72,88,0.08);
        }
        body {
            margin: 0;
            font-family: 'Segoe UI', Arial, sans-serif;
            background: var(--background);
            color: var(--text);
        }
        .admin-container {
            max-width: 1050px;
            margin: 40px auto;
            padding: 32px 28px;
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }
        header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 36px;
        }
        .logo {
            font-weight: 700;
            font-size: 2em;
            color: var(--primary);
            letter-spacing: 1px;
        }
        .admin-avatar {
            width: 46px;
            height: 46px;
            border-radius: 50%;
            background: var(--background);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3em;
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        h2 {
            margin-top: 0;
            color: var(--primary);
        }
        form {
            background: var(--background);
            padding: 24px;
            border-radius: var(--border-radius);
            margin-bottom: 36px;
            box-shadow: 0 1px 4px rgba(26, 115, 232, 0.04);
        }
        .form-row {
            display: flex;
            gap: 18px;
            flex-wrap: wrap;
        }
        .form-group {
            flex: 1 1 160px;
            min-width: 150px;
        }
        label {
            font-weight: 600;
            margin-bottom: 6px;
            display: block;
        }
        input, select {
            width: 100%;
            padding: 10px 12px;
            margin-bottom: 13px;
            font-size: 1em;
            border: 1px solid #ddd;
            border-radius: 7px;
            background: #fafbfc;
            transition: border 0.2s;
        }
        input:focus, select:focus {
            border: 1.5px solid var(--primary);
            outline: none;
        }
        button {
            background: var(--primary);
            color: #fff;
            border: none;
            padding: 12px 36px;
            border-radius: 7px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.18s;
            box-shadow: 0 2px 8px rgba(26, 115, 232, 0.08);
        }
        button:hover {
            background: #155ab6;
        }
        .stats-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--card-bg);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
        }
        .stats-table th, .stats-table td {
            text-align: left;
            padding: 16px 12px;
            border-bottom: 1px solid #f0f0f0;
        }
        .stats-table th {
            background: #f5f8fc;
        }
        .stats-table tr:last-child td {
            border-bottom: none;
        }
        .action-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1em;
            margin-right: 8px;
        }
        .action-edit {
            color: var(--primary);
        }
        .action-delete {
            color: var(--danger);
        }
        .dashboard-cards {
            display: flex;
            gap: 24px;
            margin-bottom: 34px;
            flex-wrap: wrap;
        }
        .card-stat {
            background: #f5f8fc;
            border-radius: 12px;
            flex: 1 1 160px;
            min-width: 170px;
            padding: 24px 20px;
            box-shadow: 0 2px 8px rgba(26, 115, 232, 0.03);
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }
        .card-stat .stat-label {
            color: #888;
            margin-bottom: 3px;
            font-size: 0.96em;
        }
        .card-stat .stat-value {
            font-size: 2em;
            font-weight: 700;
            color: var(--primary);
        }
        @media (max-width: 950px) {
            .dashboard-cards { flex-direction: column; gap: 12px;}
            .admin-container { padding: 14px 2vw;}
        }
        @media (max-width: 550px) {
            .admin-container { margin: 0; border-radius: 0;}
            header { flex-direction: column; gap: 10px;}
            .logo { font-size: 1.2em;}
            .stats-table th, .stats-table td { font-size: 0.95em; }
            .form-row { flex-direction: column; gap: 0;}
        }
    </style>
</head>


<body>

     <div class="main-nav">
            <a href="/admin/add" class="nav-link">Add Sports</a>    
        </div>

    <div class="admin-container">

       
        <header>
            <span class="logo">üìä Sports Statistics Admin</span>
            <div class="admin-avatar" title="Admin">A</div>
        </header>
        <section class="dashboard-cards" id="dashboardCards">
            <div class="card-stat">
                <span class="stat-label">Total Players</span>
                <span class="stat-value" id="statPlayers">0</span>
            </div>
            <div class="card-stat">
                <span class="stat-label">Total Matches</span>
                <span class="stat-value" id="statMatches">0</span>
            </div>
            <div class="card-stat">
                <span class="stat-label">Total Goals</span>
                <span class="stat-value" id="statGoals">0</span>
            </div>
            <div class="card-stat">
                <span class="stat-label">Top Scorer</span>
                <span class="stat-value" id="statTopScorer">-</span>
            </div>
        </section>
        <h2>Add Player Statistic</h2>
        <form id="statForm" autocomplete="off">
            <div class="form-row">
                <div class="form-group">
                    <label for="player">Player Name</label>
                    <input type="text" id="player" name="player" maxlength="40" required placeholder="Player's Name">
                </div>
                <div class="form-group">
                    <label for="team">Team</label>
                    <input type="text" id="team" name="team" maxlength="40" required placeholder="Team Name">
                </div>
                <div class="form-group">
                    <label for="matches">Matches</label>
                    <input type="number" id="matches" name="matches" min="1" max="1000" required placeholder="Matches">
                </div>
                <div class="form-group">
                    <label for="goals">Goals</label>
                    <input type="number" id="goals" name="goals" min="0" max="1000" required placeholder="Goals">
                </div>
            </div>
            <button type="submit" id="addBtn">Add Statistic</button>
        </form>
        <h2>All Player Statistics</h2>
        <table class="stats-table" id="statsTable">
            <thead>
                <tr>
                    <th>Player</th>
                    <th>Team</th>
                    <th>Matches</th>
                    <th>Goals</th>
                    <th style="min-width:90px;">Actions</th>
                </tr>
            </thead>
            <tbody id="statsTableBody">
                <!-- Player stats will appear here -->
            </tbody>
        </table>
    </div>
    <script>
        const form = document.getElementById('statForm');
        const statsTableBody = document.getElementById('statsTableBody');
        const addBtn = document.getElementById('addBtn');
        let editingIndex = null;

        // Default data
        let statsList = [
            { player: "Lionel Messi", team: "Inter Miami", matches: 30, goals: 22 },
            { player: "Cristiano Ronaldo", team: "Al Nassr", matches: 28, goals: 25 },
            { player: "Erling Haaland", team: "Manchester City", matches: 27, goals: 21 },
            { player: "Kylian Mbapp√©", team: "Paris Saint-Germain", matches: 26, goals: 19 },
            { player: "Harry Kane", team: "Bayern Munich", matches: 25, goals: 23 }
        ];

        form.addEventListener('submit', function(e) {
            e.preventDefault();
            const player = form.player.value.trim();
            const team = form.team.value.trim();
            const matches = parseInt(form.matches.value, 10);
            const goals = parseInt(form.goals.value, 10);

            if (editingIndex !== null) {
                statsList[editingIndex] = { player, team, matches, goals };
                editingIndex = null;
                addBtn.textContent = 'Add Statistic';
            } else {
                statsList.unshift({ player, team, matches, goals });
            }
            renderStats();
            form.reset();
        });

        function renderStats() {
            statsTableBody.innerHTML = '';
            if (statsList.length === 0) {
                statsTableBody.innerHTML = '<tr><td colspan="5" style="text-align:center;color:gray;">No player statistics yet.</td></tr>';
            } else {
                statsList.forEach((stat, idx) => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td style="font-weight:600">${stat.player}</td>
                        <td>${stat.team}</td>
                        <td>${stat.matches}</td>
                        <td>${stat.goals}</td>
                        <td>
                            <button class="action-btn action-edit" title="Edit" onclick="editStat(${idx})">‚úèÔ∏è</button>
                            <button class="action-btn action-delete" title="Delete" onclick="deleteStat(${idx})">üóëÔ∏è</button>
                        </td>
                    `;
                    statsTableBody.appendChild(row);
                });
            }
            updateDashboard();
        }

        function updateDashboard() {
            // Total players (unique names), total matches, total goals, top scorer
            const statPlayers = document.getElementById('statPlayers');
            const statMatches = document.getElementById('statMatches');
            const statGoals = document.getElementById('statGoals');
            const statTopScorer = document.getElementById('statTopScorer');
            const uniquePlayers = new Set();
            let matches = 0, goals = 0, topScorer = '-', topGoals = -1;
            statsList.forEach(stat => {
                uniquePlayers.add(stat.player);
                matches += stat.matches;
                goals += stat.goals;
                if (stat.goals > topGoals) {
                    topGoals = stat.goals;
                    topScorer = stat.player;
                }
            });
            statPlayers.textContent = uniquePlayers.size;
            statMatches.textContent = matches;
            statGoals.textContent = goals;
            statTopScorer.textContent = (statsList.length ? topScorer : '-');
        }

        window.deleteStat = function(idx) {
            if (confirm('Are you sure you want to delete this player statistic?')) {
                statsList.splice(idx, 1);
                renderStats();
                if (editingIndex === idx) {
                    form.reset();
                    editingIndex = null;
                    addBtn.textContent = 'Add Statistic';
                }
            }
        }

        window.editStat = function(idx) {
            const stat = statsList[idx];
            form.player.value = stat.player;
            form.team.value = stat.team;
            form.matches.value = stat.matches;
            form.goals.value = stat.goals;
            editingIndex = idx;
            addBtn.textContent = 'Save Changes';
            form.player.focus();
        }

        // Initialize with default data
        renderStats();
    </script>
</body>
</html>